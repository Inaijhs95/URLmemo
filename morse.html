<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ -->
    <style>
        /* å…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š */
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 20px;
            height: 100vh;
            background-color: #121212; /* ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒã®èƒŒæ™¯è‰² */
            color: #e0e0e0; /* æ˜ã‚‹ã„ãƒ†ã‚­ã‚¹ãƒˆè‰² */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s; /* èƒŒæ™¯è‰²ã®å¤‰åŒ–ã‚’æ»‘ã‚‰ã‹ã« */
        }
        h1 {
            color: #ffffff;
            margin-bottom: 30px;
            font-size: 2em;
        }
        /* ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        .button {
            font-size: 1.5em;
            padding: 15px 30px;
            margin: 10px;
            cursor: pointer;
            border: none;
            border-radius: 12px;
            background-color: #1e88e5; /* ãƒœã‚¿ãƒ³ã®åŸºæœ¬è‰² */
            color: white;
            box-shadow: 0 0 20px rgba(30, 136, 229, 0.6); /* ã‚°ãƒ­ã‚¦åŠ¹æœ */
            transition: background-color 0.3s, box-shadow 0.3s;
            width: 120px;
            height: 60px;
        }
        .button:hover {
            background-color: #1565c0;
            box-shadow: 0 0 25px rgba(21, 101, 192, 0.8);
        }
        /* ç‰¹æ®Šãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        #clearBtn, #convertBtn {
            font-size: 1em;
            padding: 10px 20px;
            margin-top: 20px;
            border-radius: 8px;
            background-color: #43a047;
            box-shadow: 0 0 15px rgba(67, 160, 71, 0.6);
            width: 100px;
            height: 50px;
        }
        #clearBtn:hover, #convertBtn:hover {
            background-color: #388e3c;
            box-shadow: 0 0 20px rgba(56, 142, 60, 0.8);
        }
        /* å…¥åŠ›ã¨çµæœã®è¡¨ç¤ºã‚¨ãƒªã‚¢ */
        #inputArea, #resultArea, #suggestions {
            font-size: 1.5em;
            margin-top: 20px;
            min-height: 30px;
            width: 80%;
            max-width: 400px;
            word-wrap: break-word;
        }
        /* èƒŒæ™¯å…‰æ¼”å‡ºç”¨ã®ã‚¯ãƒ©ã‚¹ */
        .flash {
            background-color: #ffffff !important; /* ãƒ•ãƒ©ãƒƒã‚·ãƒ¥æ™‚ã®èƒŒæ™¯è‰² */
            color: #000000 !important; /* ãƒ•ãƒ©ãƒƒã‚·ãƒ¥æ™‚ã®ãƒ†ã‚­ã‚¹ãƒˆè‰² */
            transition: background-color 0.3s, color 0.3s;
        }
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ */
        @media (max-width: 600px) {
            .button {
                font-size: 1.2em;
                padding: 15px 25px;
                width: 100px;
                height: 50px;
            }
            #clearBtn, #convertBtn {
                font-size: 0.9em;
                width: 80px;
                height: 40px;
            }
            #inputArea, #resultArea, #suggestions {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <h1></h1>
    <div>
        <button class="button" id="dotBtn">ãƒ»</button>
        <button class="button" id="dashBtn">ãƒ¼</button>
    </div>
    <div>
        <button class="button" id="convertBtn">â‡”</button>
    </div>
    <div id="inputArea">ğŸ”¦: </div>
    <div id="suggestions">ï¼Ÿ: -</div> <!-- è¿½åŠ : å€™è£œè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
    <div id="resultArea">â’œ: </div>
    <button id="clearBtn" class="button">âœ•</button>

    <script>
        // ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã¨ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã®å¯¾å¿œè¡¨ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ã‚’ 'ãƒ¼' ã«çµ±ä¸€ï¼‰
        const morseCodeMap = {
            'ãƒ»ãƒ¼': 'A',
            'ãƒ¼ãƒ»ãƒ»ãƒ»': 'B',
            'ãƒ¼ãƒ»ãƒ¼ãƒ»': 'C',
            'ãƒ¼ãƒ»ãƒ»': 'D',
            'ãƒ»': 'E',
            'ãƒ»ãƒ»ãƒ¼ãƒ»': 'F',
            'ãƒ¼ãƒ¼ãƒ»': 'G',
            'ãƒ»ãƒ»ãƒ»ãƒ»': 'H',
            'ãƒ»ãƒ»': 'I',
            'ãƒ»ãƒ¼ãƒ¼ãƒ¼': 'J',
            'ãƒ¼ãƒ»ãƒ¼': 'K',
            'ãƒ»ãƒ¼ãƒ»ãƒ»': 'L',
            'ãƒ¼ãƒ¼': 'M',
            'ãƒ¼ãƒ»': 'N',
            'ãƒ¼ãƒ¼ãƒ¼': 'O',
            'ãƒ»ãƒ¼ãƒ¼ãƒ»': 'P',
            'ãƒ¼ãƒ¼ãƒ»ãƒ¼': 'Q',
            'ãƒ»ãƒ¼ãƒ»': 'R',
            'ãƒ»ãƒ»ãƒ»': 'S',
            'ãƒ¼': 'T',
            'ãƒ»ãƒ»ãƒ¼': 'U',
            'ãƒ»ãƒ»ãƒ»ãƒ¼': 'V',
            'ãƒ»ãƒ¼ãƒ¼': 'W',
            'ãƒ¼ãƒ»ãƒ»ãƒ¼': 'X',
            'ãƒ¼ãƒ»ãƒ¼ãƒ¼': 'Y',
            'ãƒ¼ãƒ¼ãƒ»ãƒ»': 'Z'
        };

        // ç¾åœ¨ã®å…¥åŠ›ã‚’ä¿æŒã™ã‚‹å¤‰æ•°
        let currentInput = '';
        // çµæœã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹æ–‡å­—åˆ—ã‚’ä¿æŒã™ã‚‹å¤‰æ•°
        let decodedText = '';

        // DOMè¦ç´ ã®å–å¾—
        const dotBtn = document.getElementById('dotBtn');
        const dashBtn = document.getElementById('dashBtn');
        const convertBtn = document.getElementById('convertBtn');
        const inputArea = document.getElementById('inputArea');
        const resultArea = document.getElementById('resultArea');
        const suggestionsArea = document.getElementById('suggestions'); // è¿½åŠ 
        const clearBtn = document.getElementById('clearBtn');

        // ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯æ™‚ã®å‡¦ç†
        dotBtn.addEventListener('click', () => {
            addMorse('ãƒ»');
            flashBackground(300); // ãƒ‰ãƒƒãƒˆã®å ´åˆã¯300msç‚¹ç¯
            updateSuggestions(); // å€™è£œæ›´æ–°
        });

        dashBtn.addEventListener('click', () => {
            addMorse('ãƒ¼');
            flashBackground(700); // ãƒ€ãƒƒã‚·ãƒ¥ã®å ´åˆã¯700msç‚¹ç¯
            updateSuggestions(); // å€™è£œæ›´æ–°
        });

        // å¤‰æ›ãƒœã‚¿ãƒ³ã®å‡¦ç†
        convertBtn.addEventListener('click', () => {
            convertMorse();
        });

        // ã‚¯ãƒªã‚¢ãƒœã‚¿ãƒ³ã®å‡¦ç†
        clearBtn.addEventListener('click', () => {
            clearAll();
        });

        // ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã‚’è¿½åŠ 
        function addMorse(symbol) {
            currentInput += symbol;
            inputArea.textContent = `å…¥åŠ›: ${currentInput}`;
        }

        // ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã‚’ãƒ‡ã‚³ãƒ¼ãƒ‰ã—ã¦è¡¨ç¤º
        function convertMorse() {
            if (currentInput === '') {
                alert('ãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                return;
            }
            const character = morseCodeMap[currentInput];
            if (character) {
                decodedText += character;
                resultArea.textContent = `æ–‡å­—: ${decodedText}`;
                // æ¬¡ã®æ–‡å­—ã®å…¥åŠ›ã®ãŸã‚ã«ãƒªã‚»ãƒƒãƒˆ
                currentInput = '';
                inputArea.textContent = 'å…¥åŠ›: ';
                suggestionsArea.textContent = 'å€™è£œ: -';
            } else {
                alert('ç„¡åŠ¹ãªãƒ¢ãƒ¼ãƒ«ã‚¹ä¿¡å·ã§ã™ã€‚');
            }
        }

        // å…¥åŠ›ã¨çµæœã‚’ã‚¯ãƒªã‚¢
        function clearAll() {
            currentInput = '';
            decodedText = '';
            inputArea.textContent = 'ğŸ”¦: ';
            resultArea.textContent = 'â’œ: ';
            suggestionsArea.textContent = 'ï¼Ÿ: -';
        }

        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ã«ã‚‚å¯¾å¿œ
        document.addEventListener('keydown', (event) => {
            if (event.key === '.') {
                addMorse('ãƒ»');
                flashBackground(300);
                updateSuggestions();
            } else if (event.key === '-') {
                addMorse('ãƒ¼');
                flashBackground(700);
                updateSuggestions();
            } else if (event.key === 'Enter') {
                convertMorse();
            } else if (event.key === 'Backspace') {
                // æœ€å¾Œã®å…¥åŠ›ã‚’å‰Šé™¤
                currentInput = currentInput.slice(0, -1);
                inputArea.textContent = `å…¥åŠ›: ${currentInput}`;
                updateSuggestions();
            } else if (event.key === 'Escape') {
                // ã‚¯ãƒªã‚¢
                clearAll();
            }
        });

        // èƒŒæ™¯ã‚’ç‚¹ç¯ã•ã›ã‚‹é–¢æ•°
        function flashBackground(duration) {
            document.body.classList.add('flash');
            setTimeout(() => {
                document.body.classList.remove('flash');
            }, duration);
        }

        // ç¾åœ¨ã®å…¥åŠ›ã«åŸºã¥ã„ã¦å€™è£œã‚’æ›´æ–°
        function updateSuggestions() {
            if (currentInput === '') {
                suggestionsArea.textContent = 'å€™è£œ: -';
                return;
            }
            const candidates = [];
            for (const [morse, char] of Object.entries(morseCodeMap)) {
                if (morse.startsWith(currentInput)) {
                    candidates.push(char);
                }
            }
            if (candidates.length > 0) {
                suggestionsArea.textContent = `å€™è£œ: ${candidates.join(', ')}`;
            } else {
                suggestionsArea.textContent = 'å€™è£œ: -';
            }
        }
    </script>
</body>
</html>
